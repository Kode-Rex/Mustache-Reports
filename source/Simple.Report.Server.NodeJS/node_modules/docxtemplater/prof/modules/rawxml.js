"use strict";
var profile=(profile?profile:(function(){return require("/home/edgar/.local/lib/node_modules/profi-stanbul/profile.js");})());
var _createClass=function(){function defineProperties(target,props){var _p=profile.start('defineProperties',__filename,arguments);try{for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}finally{profile.end(_p);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){var _p=profile.start('_classCallCheck',__filename,arguments);try{if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}finally{profile.end(_p);}}var DocUtils=require('../doc-utils');var Errors=require('../errors');var moduleName='rawxml';var wrapper=require('../module-wrapper');function throwRawTagShouldBeOnlyTextInParagraph(options){var _p=profile.start('throwRawTagShouldBeOnlyTextInParagraph',__filename,arguments);try{var err=new Errors.XTTemplateError('Raw tag should be the only text in paragraph');var tag=options.part.value;err.properties={id:'raw_xml_tag_should_be_only_text_in_paragraph',explanation:'The tag '+tag,xtag:options.part.value,paragraphParts:options.paragraphParts};throw err;}finally{profile.end(_p);}}function getInner(_ref){var _p=profile.start('getInner',__filename,arguments);try{var part=_ref.part,left=_ref.left,right=_ref.right,postparsed=_ref.postparsed,index=_ref.index;var paragraphParts=postparsed.slice(left+1,right);paragraphParts.forEach(function(p,i){if(i===index-left-1){return;}if(p.type==='placeholder'||p.type==='content'&&p.position==='insidetag'){throwRawTagShouldBeOnlyTextInParagraph({paragraphParts:paragraphParts,part:part});}});return part;}finally{profile.end(_p);}}var RawXmlModule=function(){function RawXmlModule(){var _p=profile.start('RawXmlModule',__filename,arguments);try{_classCallCheck(this,RawXmlModule);this.name='RawXmlModule';}finally{profile.end(_p);}}_createClass(RawXmlModule,[{key:'optionsTransformer',value:function optionsTransformer(options,docxtemplater){var _p=profile.start('optionsTransformer',__filename,arguments);try{this.fileTypeConfig=docxtemplater.fileTypeConfig;return options;}finally{profile.end(_p);}}},{key:'parse',value:function parse(placeHolderContent){var _p=profile.start('parse',__filename,arguments);try{var type='placeholder';if(placeHolderContent[0]!=='@'){return null;}return{type:type,value:placeHolderContent.substr(1),module:moduleName};}finally{profile.end(_p);}}},{key:'postparse',value:function postparse(parsed){var _p=profile.start('postparse',__filename,arguments);try{return DocUtils.traits.expandToOne(parsed,{moduleName:moduleName,getInner:getInner,expandTo:this.fileTypeConfig.tagRawXml});}finally{profile.end(_p);}}},{key:'render',value:function render(part,options){var _p=profile.start('render',__filename,arguments);try{if(part.module!==moduleName){return null;}var value=options.scopeManager.getValue(part.value);if(value==null){value=options.nullGetter(part);}return{value:value};}finally{profile.end(_p);}}}]);return RawXmlModule;}();module.exports=function(){var _p=profile.start('module.exports',__filename,arguments);try{return wrapper(new RawXmlModule());}finally{profile.end(_p);}};
